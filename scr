local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()
local SaveManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/SaveManager.lua"))()
local InterfaceManager = loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/InterfaceManager.lua"))()
local CombatFramework = require(game:GetService("Players").LocalPlayer.PlayerScripts.CombatFramework)
local Camera = require(game.ReplicatedStorage.Util.CameraShaker)
_G.AutoAttack = false
_G.AutoFarm = false
local lplr = game.Players.LocalPlayer
function tween(cf,Value)
    local ts = game:GetService("TweenService")
    local tsi = TweenInfo.new((lplr.Character.HumanoidRootPart.Position-cf.Position).Magnitude*(SpeedTween/1000),Enum.EasingStyle.Linear)
    local a = ts:Create(lplr.Character.HumanoidRootPart,tsi,{CFrame = cf * CFrame.new(0,0,1)})
    a:Play()
    Tween.Complete:wait()
end
function CheckLevel()
    local Level = game:GetService("Players").LocalPlayer.Data.Level.Value
    if Level==1 or Level <=9 then
       Ms = "Bandit [Lv. 5]" 
       Qn = "BanditQuest1"
       Mn = "Bandit"
       LevelQ = 1
       CFrameQuest = CFrame.new(1061.66699, 16.5166187, 1544.52905)
    elseif Level == 10 or Level <=14 then
       Ms = "Monkey [Lv. 14]" 
       Qn = "JungleQuest"
       Mn = "Monkey"
       LevelQ = 1
       CFrameQuest = CFrame.new(-1604.12012, 36.8521118, 154.23732)
    elseif Level == 15 or Level <=29 then
        Ms = "Gorilla [Lv. 20]" 
        Qn = "JungleQuest"
        Mn = "Gorilla"
        LevelQ = 2
        CFrameQuest = CFrame.new(-1604.12012, 36.8521118, 154.23732)
    end
end
if _G.AutoFarm == true then
    function CheckLevel()
        local Level = game:GetService("Players").LocalPlayer.Data.Level.Value
        if Level==1 or Level <=9 then
           Ms = "Bandit [Lv. 5]" 
           Qn = "BanditQuest1"
           Mn = "Bandit"
           LevelQ = 1
           CFrameQuest = CFrame.new(1061.66699, 16.5166187, 1544.52905)
        elseif Level == 10 or Level <=14 then
           Ms = "Monkey [Lv. 14]" 
           Qn = "JungleQuest"
           Mn = "Monkey"
           LevelQ = 1
           CFrameQuest = CFrame.new(-1604.12012, 36.8521118, 154.23732)
        elseif Level == 15 or Level <=29 then
            Ms = "Gorilla [Lv. 20]" 
            Qn = "JungleQuest"
            Mn = "Gorilla"
            LevelQ = 2
            CFrameQuest = CFrame.new(-1604.12012, 36.8521118, 154.23732)
        end
    end
    spawn(function()
        while wait() do
            CheckLevel()
            if lplr.PlayerGui.Main.Quest.Visible == false then
                if not string.find(lplr.PlayerGui.Main.Quest.Container.QuestTitle.Title.Text,Mn) then
                    local args = {
                        [1] = "AbandonQuest"
                    }
                    game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(unpack(args))
                    wait()
                end
                tween(CFrameQuest)
                local args = {
                    [1] = "StartQuest",
                    [2] = Qn,
                    [3] = LevelQ
                }
                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(unpack(args))
            end
            for i,v in pairs(game:GetService('Workspace').Enemies:GetChildren()) do
                for i2,v2 in pairs(game:GetService('Workspace').Enemies:GetChildren()) do
                    if v.Name == Mn and v2.Name == Mn then
                        lplr.Character.HumanoidRootPart.CFrame = v.HumanoidRootPart.CFrame * CFrame.new(0,-17, 12)
                        v2.HumanoidRootPart.CFrame = v.HumanoidRootPart.CFrame
                        v.HumanoidRootPart.CanCollide = false
                        sethiddenproperty(game.Players.LocalPlayer, "SimulationRadius", math.huge)
                    end
                end
            end
        end
    end)
end
if _G.AutoAttack == true then
    Camera:Stop()
    coroutine.wrap(function()
        game:GetService("RunService").Stepped:Connect(function()
            if getupvalues(CombatFramework)[2]['activeController'].timeToNextAttack then
                getupvalues(CombatFramework)[2]['activeController'].timeToNextAttack = 0
                getupvalues(CombatFramework)[2]['activeController'].hitboxMagnitude = 50
                getupvalues(CombatFramework)[2]['activeController']:attack()
            end
        end)
    end)()
end
local Window = Fluent:CreateWindow({
    Title = "VKHub " .. Fluent.Version,
    SubTitle = "By VKTool",
    TabWidth = 160,
    Size = UDim2.fromOffset(580, 460),
    Acrylic = true, -- The blur may be detectable, setting this to false disables blur entirely
    Theme = "Dark",
    MinimizeKey = Enum.KeyCode.LeftControl -- Used when theres no MinimizeKeybind
})

local Tabs = {
    Main = Window:AddTab({ Title = "Main", Icon = "" }),
    Settings = Window:AddTab({ Title = "Settings", Icon = "settings" })
}

local Options = Fluent.Options

do
    Fluent:Notify({
        Title = "Notification",
        Content = "This is a notification",
        SubContent = "SubContent", -- Optional
        Duration = 5 -- Set to nil to make the notification not disappear
    })



    Tabs.Main:AddParagraph({
        Title = "Paragraph",
        Content = "This is a paragraph.\nSecond line!"
    })
        
    local Slider = Tabs.Main:AddSlider("Slider", {
        Title = "Tween Speed",
        Default = 3,
        Min = 0,
        Max = 10,
        Rounding = 1,
        Callback = function(Value)
            print("Slider was changed:", Value)
        end
    })
    SpeedTween = 3
    Slider:OnChanged(function(Value)
        SpeedTween = Value
    end)
    Slider:SetValue(3)    

    local Dropdown = Tabs.Main:AddDropdown("Select Island", {
        Title = "Dropdown",
        Values = {"MarineFord", "Frozen Village", "Desert", "Pirate Village", "Jungle", "Middle Town", "Marine Start", "Pirate Start", "Colosseum", "Sky island 1", "Sky island 2", "Sky island 3", "Sky island 4", "Prison", "Magma Village", "UnderWater City", "Fountain City", "House Cyborg's", "Shank's Room", "Mob Island"},
        Multi = false,
        Default = 1,
    })

    Dropdown:SetValue("MarineFord")
    SelectedIsland = MarineFord
    Dropdown:OnChanged(function(Value)
        SelectedIsland = Value
    end)

    Tabs.Main:AddButton({
        Title = "Tween",
        Description = "Very important button",
        Callback = function()
            if SelectedIsland == 'MarineFord' then
                tween(CFrame.new(-4505.375, 20.687294, 4260.55908),valuetween)
            elseif SelectedIsland == 'Frozen Village' then
                tween(CFrame.new(1198.00928, 27.0074959, -1211.73376),valuetween)
            elseif SelectedIsland == 'Desert' then
                tween(CFrame.new(1094.14587, 6.47350502, 4192.88721),valuetween)
            elseif SelectedIsland == 'Pirate Village' then
                tween(CFrame.new(-1122.34998, 4.78708982, 3855.91992),valuetween)
            elseif SelectedIsland == 'Jungle' then
                tween(CFrame.new(-1249.77222, 11.8870859, 341.356476),valuetween)
            elseif SelectedIsland == 'Middle Town' then
                tween(CFrame.new(-655.824158, 7.88708115, 1436.67908),valuetween)
            elseif SelectedIsland == 'Marine Start' then
                tween(CFrame.new(-2573.3374, 6.88881969, 2046.99817),valuetween)
            elseif SelectedIsland == 'Pirate Start' then
                tween(CFrame.new(1071.2832, 16.3085976, 1426.86792),valuetween)
            elseif SelectedIsland == 'Colosseum' then
                tween(CFrame.new(-1428.35474, 7.38933945, -3014.3730),valuetween)
            elseif SelectedIsland == 'Sky island 1' then
                tween(CFrame.new(-4970.21875, 717.707275, -2622.35449),valuetween)
            elseif SelectedIsland == 'Sky island 2' then
                tween(CFrame.new(-4813.0249, 903.708557, -1912.69055),valuetween)
            elseif SelectedIsland == 'Sky island 3' then
                tween(CFrame.new(-7952.31006, 5545.52832, -320.704956),valuetween)
            elseif SelectedIsland == 'Sky island 4' then
                tween(CFrame.new(-7793.43896, 5607.22168, -2016.58362),valuetween)
            elseif SelectedIsland == 'Prison' then
                tween(CFrame.new(4854.16455, 5.68742752, 740.194641),valuetween)
            elseif SelectedIsland == 'Magma Village' then
                tween(CFrame.new(-5231.75879, 8.61593437, 8467.87695),valuetween)
            elseif SelectedIsland == 'UnderWater City' then
                tween(CFrame.new(61163.8516, 11.7796879, 1819.78418),valuetween)
            elseif SelectedIsland == 'Fountain City' then
                tween(CFrame.new(5132.7124, 4.53632832, 4037.8562),valuetween)
            elseif SelectedIsland == "House Cyborg's" then
                tween(CFrame.new(6262.72559, 71.3003616, 3998.23047),valuetween)
            elseif SelectedIsland == "Shank's Room" then
                tween(CFrame.new(-1442.16553, 29.8788261, -28.3547478),valuetween)
            elseif SelectedIsland == "Mob Island" then
                tween(CFrame.new(-2850.20068, 7.39224768, 5354.99268),valuetween)
            end        
        end
    })



    local Toggle = Tabs.Main:AddToggle("MyToggle", {Title = "Auto Buso", Default = false })

    Toggle:OnChanged(function()
        if Options.MyToggle.Value == true then
            if not game.Players.LocalPlayer.Character:FindFirstChild("HasBuso") then
                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("Buso")
            end
        end 
    end)
    local Toggle = Tabs.Main:AddToggle("AutoFarmToggle", {Title = "Auto Farm", Default = false })

    Toggle:OnChanged(function()
        _G.AutoAttack = Options.AutoFarmToggle.Value
        _G.AutoFarm = Options.AutoFarmToggle.Value
    end)
    Options.MyToggle:SetValue(false)
    local MultiDropdown = Tabs.Main:AddDropdown("MultiDropdown", {
        Title = "Dropdown",
        Description = "You can select multiple values.",
        Values = {"one", "two", "three", "four", "five", "six", "seven", "eight", "nine", "ten", "eleven", "twelve", "thirteen", "fourteen"},
        Multi = true,
        Default = {"seven", "twelve"},
    })

    MultiDropdown:SetValue({
        three = true,
        five = true,
        seven = false
    })

    MultiDropdown:OnChanged(function(Value)
        local Values = {}
        for Value, State in next, Value do
            table.insert(Values, Value)
        end
        print("Mutlidropdown changed:", table.concat(Values, ", "))
    end)

    local Input = Tabs.Main:AddInput("Input", {
        Title = "Input",
        Default = "Default",
        Placeholder = "Placeholder",
        Numeric = false, -- Only allows numbers
        Finished = false, -- Only calls callback when you press enter
        Callback = function(Value)
            print("Input changed:", Value)
        end
    })

    Input:OnChanged(function()
        print("Input updated:", Input.Value)
    end)
end


-- Addons:
-- SaveManager (Allows you to have a configuration system)
-- InterfaceManager (Allows you to have a interface managment system)

-- Hand the library over to our managers
SaveManager:SetLibrary(Fluent)
InterfaceManager:SetLibrary(Fluent)

-- Ignore keys that are used by ThemeManager.
-- (we dont want configs to save themes, do we?)
SaveManager:IgnoreThemeSettings()

-- You can add indexes of elements the save manager should ignore
SaveManager:SetIgnoreIndexes({})

-- use case for doing it this way:
-- a script hub could have themes in a global folder
-- and game configs in a separate folder per game
InterfaceManager:SetFolder("FluentScriptHub")
SaveManager:SetFolder("FluentScriptHub/specific-game")

InterfaceManager:BuildInterfaceSection(Tabs.Settings)
SaveManager:BuildConfigSection(Tabs.Settings)


Window:SelectTab(1)

Fluent:Notify({
    Title = "Fluent",
    Content = "The script has been loaded.",
    Duration = 8
})

SaveManager:LoadAutoloadConfig()
